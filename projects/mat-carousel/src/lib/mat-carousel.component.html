<section class="carousel" #carouselContainer>
  <ul class="carousel-list" #carouselList>
    <li
      class="carousel-item"
      #carouselItem
      *ngFor="let item of items"
      (panleft)="onPan($event, carouselItem)"
      (panright)="onPan($event, carouselItem)"
      (panend)="onPanEnd($event, carouselItem)"
      (pancancel)="onPanEnd($event, carouselItem)"
    >
      <ng-container [ngTemplateOutlet]="item.templateRef"></ng-container>
    </li>
  </ul>

  <button
    mat-fab
    *ngIf="showArrows"
    (click)="previous()"
    [disabled]="(awaitAnimation && playing) || (!loop && currentIndex == 0)"
  >
    <mat-icon>arrow_back</mat-icon>
  </button>
  <button
    mat-fab
    *ngIf="showArrows"
    (click)="next()"
    [disabled]="
      (awaitAnimation && playing) || (!loop && currentIndex == items.length - 1)
    "
  >
    <mat-icon>arrow_forward</mat-icon>
  </button>

  <div class="carousel-stepper" *ngIf="showStepper">
    <button
      mat-mini-fab
      *ngFor="let item of items; let i = index"
      [disabled]="i == currentIndex"
      (click)="show(i)"
    ></button>
  </div>
</section>
