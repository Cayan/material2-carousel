<section
  #carouselContainer
  class="carousel"
  tabindex="0"
  [style.max-width]="maxWidth"
>
  <ul
    #carouselList
    class="carousel-list"
    role="listbox"
    [style.flex-direction]="rtl ? 'row-reverse' : 'row'"
  >
    <li
      #carouselSlide
      *ngFor="let slide of slides"
      class="carousel-slide"
      role="option"
      [style.padding-bottom]="proportion + '%'"
      (panleft)="onPan($event, carouselSlide)"
      (panright)="onPan($event, carouselSlide)"
      (panend)="onPanEnd($event, carouselSlide)"
      (pancancel)="onPanEnd($event, carouselSlide)"
    >
      <ng-container [ngTemplateOutlet]="slide.templateRef"></ng-container>
    </li>
  </ul>

  <button
    *ngIf="showArrows"
    mat-icon-button
    tabindex="-1"
    [color]="color"
    [disabled]="!loop && listKeyManager?.activeItemIndex == 0"
    (click)="previous()"
  >
    <mat-icon>arrow_back</mat-icon>
  </button>
  <button
    *ngIf="showArrows"
    mat-icon-button
    tabindex="-1"
    [color]="color"
    [disabled]="!loop && listKeyManager?.activeItemIndex == slides.length - 1"
    (click)="next()"
  >
    <mat-icon>arrow_forward</mat-icon>
  </button>

  <div
    *ngIf="showIndicators"
    class="carousel-indicators"
    tabindex="-1"
    [style.flex-direction]="rtl ? 'row-reverse' : 'row'"
  >
    <button
      *ngFor="let slide of slides; let i = index"
      tabindex="-1"
      mat-mini-fab
      [color]="color"
      [disabled]="i == listKeyManager?.activeItemIndex"
      (click)="slideTo(i)"
    ></button>
  </div>
</section>
