<section class="carousel" #carouselContainer [style.max-width]="maxWidth">
  <ul class="carousel-list" #carouselList>
    <li
      class="carousel-slide"
      #carouselSlide
      *ngFor="let slide of slides"
      [style.padding-bottom]="proportion + '%'"
      (panleft)="onPan($event, carouselSlide)"
      (panright)="onPan($event, carouselSlide)"
      (panend)="onPanEnd($event, carouselSlide)"
      (pancancel)="onPanEnd($event, carouselSlide)"
    >
      <ng-container [ngTemplateOutlet]="slide.templateRef"></ng-container>
    </li>
  </ul>

  <button
    mat-icon-button
    *ngIf="showArrows"
    (click)="previous()"
    tabindex="-1"
    [color]="color"
    [disabled]="(awaitAnimation && playing) || (!loop && currentIndex == 0)"
  >
    <mat-icon>arrow_back</mat-icon>
  </button>
  <button
    mat-icon-button
    *ngIf="showArrows"
    (click)="next()"
    tabindex="-1"
    [color]="color"
    [disabled]="
      (awaitAnimation && playing) ||
      (!loop && currentIndex == slides.length - 1)
    "
  >
    <mat-icon>arrow_forward</mat-icon>
  </button>

  <div class="carousel-indicators" tabindex="-1" *ngIf="showIndicators">
    <button
      mat-mini-fab
      *ngFor="let slide of slides; let i = index"
      [color]="color"
      [disabled]="i == currentIndex"
      (click)="show(i)"
    ></button>
  </div>
</section>
